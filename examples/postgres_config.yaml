# PostgreSQL to CSV export with environment variable substitution
version: 1

source:
  uri: "postgres://${DB_USER}:${DB_PASS}@${DB_HOST}:${DB_PORT}/${DB_NAME}#sales_data"

target:
  uri: "${OUTPUT_DIR}/sales_export.csv"

options:
  batch_size: 25000
  infer_schema: false
  schema_file: "${SCHEMA_DIR}/sales_schema.yaml"
  transform_file: "${TRANSFORM_DIR}/sales_transform.lua"
  log_level: "info"
  skip_existing: true
